{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseURL","axios","get","then","rep","data","newPer","post","peep","window","confirm","name","delete","id","perId","put","Phonebook","phonebook","delFunc","map","person","Person","number","onClick","SearchFilter","filter","func","value","onChange","AddForm","numb","nameFunc","numFunc","addName","type","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","filt","setFilt","setMessage","useEffect","pS","allPeeps","a","console","log","event","preventDefault","setTimeout","newPeep","concat","target","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8be5dd77.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseURL='https://boiling-crag-65022.herokuapp.com/api/persons';\n\n\nconst getAll=()=>{\n    const req=axios.get(baseURL);\n    return req.then(rep=>rep.data)\n}\n\nconst create=(newPer)=>{\n    const req=axios.post(baseURL,newPer);\n    return req.then(rep=>rep.data);\n}\n\nconst delPer=(peep)=>{\n    const result=window.confirm(`Delete ${peep.name}`)\n    if(result){\n        const req=axios.delete(`${baseURL}/${peep.id}`)\n        return req.then(rep=>rep.data);\n    }\n}\n\nconst getPer=(peep)=>{\n    const req=axios.get(`${baseURL}/${peep}`);\n    return req.then(rep=>rep.data);\n}\nconst updatePer=(perId,peep)=>{\n    return axios.put(`${baseURL}/${perId}`,peep);\n    // return req.then(rep=>rep.data);\n}\n\nexport default {getAll,create,delPer,updatePer,getPer}","import React, { useEffect, useState } from 'react';\nimport pS from './services/persons';\nconst Phonebook=({phonebook,delFunc})=>{\n  return(phonebook.map(person=><Person delFunc={delFunc} key={person.id} person={person}/>))\n  }\n\nconst Person=({person,delFunc})=>{\n  return(\n  <>\n  <p>{person.name} {person.number}</p>\n  <button onClick={()=>{delFunc(person)}}>delete</button>\n  </>);\n}\n\nconst SearchFilter=({filter,func})=>{\n  return (<div>filter shown with <input value={filter} onChange={func}/></div>)\n}\n\nconst AddForm=({name,numb,nameFunc,numFunc,addName})=>{\n  return (\n    <>\n    <h2>Add a new</h2>\n    <form>\n      <div>name: <input value={name} onChange={nameFunc}/></div>\n      <div>number: <input value={numb} onChange={numFunc}/></div>\n      <div><button onClick={addName} type=\"submit\">add</button></div>\n    </form>\n    </>\n  )\n}\n\nconst Notification=({message})=>{\n  if (message===''){\n    return null;\n  }else if(message==='success'){\n  return(<div className='success'>The user was successfully added/updated dawg!</div>)\n  }else if(message==='error'){\n    return(<div className='error'>The user was already deleted dawg dawg!</div>)\n  }\n}\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('');\n  const [newNum,setNewNum]=useState('');\n  const [filt,setFilt]=useState('');\n  const [message,setMessage]=useState('');\n\n  useEffect(()=>{\n    pS.getAll()\n    .then(allPeeps=>{\n      setPersons(allPeeps);\n    })\n  },[])\n\n  \n  const nameChange=(event)=>{\n    setNewName(event.target.value);\n  }\n  const numChange=(event)=>{\n    setNewNum(event.target.value);\n  }\n  const filtChange=(event)=>{\n    setFilt(event.target.value);\n  }\n\n  const delFunc=async (peep)=>{\n    await pS.delPer(peep)\n    pS.getAll()\n    .then(allPeeps=>{\n      console.log(allPeeps);\n      setPersons(allPeeps);\n    })\n  }\n  const updateFunc=(peep)=>{\n    const newPer={\n      name:newName,\n      id:peep,\n      number:newNum\n    }\n    return pS.updatePer(peep,newPer);\n  }\n\n  const addName=async (event)=>{\n    event.preventDefault();\n    for(let person of persons){\n      if(person.name===newName){\n        try{\n          await updateFunc(person.id)\n          setMessage('success')\n        }catch (error){\n          setMessage('error');\n      }\n        setTimeout(()=>{setMessage('')},5000)\n        setNewName('');\n        setNewNum('');\n        pS.getAll()\n        .then(allPeeps=>{\n        setPersons(allPeeps);\n         })\n        return;\n      }\n    }\n    const person={\n      name:newName,\n      number:newNum\n    }\n    pS.create(person)\n    .then(newPeep=>{\n      setPersons(persons.concat(newPeep));\n      setMessage(`success`)\n      setTimeout(()=>{setMessage('')},5000)\n      setNewName('');\n      setNewNum('');\n    })\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <SearchFilter filter={filt} func={filtChange}/>\n      <AddForm name={newName} numb={newNum} nameFunc={nameChange} numFunc={numChange} addName={addName}/>\n      <h2>Numbers</h2>\n      <Phonebook delFunc={delFunc} phonebook={persons.filter(person=>person.name.includes(filt))} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}